var buttonForm=document.querySelector(".fields__button"),popupSend=document.querySelector(".modal--send"),popupInvalid=document.querySelector(".modal--invalid"),popupError=document.querySelector(".modal--error"),buttonClose=document.querySelector(".modal__button--close"),buttonOk=document.querySelector(".modal__button--ok"),buttonAccept=document.querySelector(".modal__button--accept"),form=document.querySelector(".fields"),nameField=form.querySelector("[name=name]"),surnameField=form.querySelector("[name=surname]"),emailField=form.querySelector("[name=email]"),blackout=document.querySelector(".blackout");form.addEventListener("submit",function(e){nameField.value&&surnameField.value&&emailField.value?(e.preventDefault(),popupInvalid.classList.remove("modal__show--invalid"),popupSend.classList.add("modal__show--send"),blackout.classList.add("blackout--show"),nameField.classList.remove("fields__textfield--required"),surnameField.classList.remove("fields__textfield--required"),emailField.classList.remove("fields__textfield--required"),localStorage.setItem("name",nameField.value),localStorage.setItem("surname",surnameField.value),localStorage.setItem("email",emailField.value)):(e.preventDefault(),console.log("Не заполнены необходимые поля"),nameField.value?nameField.classList.remove("fields__textfield--required"):(nameField.classList.add("fields__textfield--required"),popupInvalid.classList.add("modal__show--invalid"),blackout.classList.add("blackout--show")),surnameField.value?surnameField.classList.remove("fields__textfield--required"):(surnameField.classList.add("fields__textfield--required"),popupInvalid.classList.add("modal__show--invalid"),blackout.classList.add("blackout--show")),emailField.value?emailField.classList.remove("fields__textfield--required"):(emailField.classList.add("fields__textfield--required"),popupInvalid.classList.add("modal__show--invalid"),blackout.classList.add("blackout--show")))});var modalClickHandler=function(e,l,o){e.addEventListener("click",function(){l.classList.contains(o)&&(l.classList.remove(o),blackout.classList.remove("blackout--show"))})};modalClickHandler(buttonClose,popupSend,"modal__show--send"),modalClickHandler(buttonOk,popupInvalid,"modal__show--invalid"),modalClickHandler(buttonAccept,popupInvalid,"modal__show--error"),window.addEventListener("keydown",function(e){27===e.keyCode&&(popupSend.classList.contains("modal__show--send")&&(popupSend.classList.remove("modal__show--send"),blackout.classList.remove("blackout--show")),popupError.classList.contains("modal__show--error")&&(popupError.classList.remove("modal__show--error"),blackout.classList.remove("blackout--show")))});